<!DOCTYPE html>
<html>
<head>
    <title>みんなでおでんき</title>
    <!--<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.1/themes/humanity/jquery-ui.css"
          type="text/css"/>-->
    <!--<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" type="text/css"/>-->
    <link href="css/sunny/jquery-ui-1.10.3.custom.css" rel="stylesheet">
    <link rel="stylesheet" href="newodenki.css" type="text/css"/>
    <link href="css/jquery-ui-timepicker-addon.css" rel="stylesheet" type="text/css"/>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <!--<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>-->
    <script src="js/jquery-ui-1.10.3.custom.js"></script>
    <script type="text/javascript" src="js/jquery-ui-timepicker-addon.js"></script>
    <script type="text/javascript" src="js/jquery-ui-sliderAccess.js"></script>
</head>
<body>
<div id="tabs">
    <ul>
        <li>
            <a href="#tab-public"><p>みんなのおでんき</p><img
                    src="http://www.marinetraffic.com/ais/jp/images/google-earth-icon.png"/>
            </a>
        </li>
        <li><a
                href="#tab-my"><p>マイおでんき</p><img
                src="http://icons.iconarchive.com/icons/everaldo/crystal-clear/128/App-personal-icon.png"
                height="50px"/>
        </a>
        </li>
        <li><a href="#tab-socialpp"><p>ソーシャルコンセント</p>

            <img src="https://twimg0-a.akamaihd.net/profile_images/1522990803/___________reasonably_small.png"/></a>
        </li>
        <li><a href="#tab-help"><p>プロジェクト</p><img src="http://dcity-ehime.com/e-eco/ank/images/ban-denki.png"/>
        </a></li>
    </ul>
    <div id="tab-public">
        <div class="accordion-in-tab">
            <div>
                <h1>みんなの発電量</h1>

                <p>ここにグラフが入ります。</p>
            </div>
            <div>
                <h1>みんなの発電地図</h1>

                <p>ここに地図が入ります。</p>
            </div>
            <div>
                <h1>みんなの発電ランキング</h1>

                <p>ここにランキングが入ります。</p>
            </div>
        </div>

    </div>
    <div id="tab-my">
        <div class="accordion-in-tab">
            <div>
                <h1>マイ発電量</h1>

                <p>ここに発電量のグラフが入ります</p>
            </div>
            <div>
                <h1>機器登録</h1>

                <div>
                    <span onclick='(function(){$("#info-module").dialog("open")})()'>機器名
                        </span><input id="productName"/>

                    <p class="info" id="info-module">
                        製品によっては、機器名を「モジュール名」もしくは「moduleId」と表記しているものもあります。</p>
                    <script>
                        $('.info').dialog({
                            autoOpen: false,
                            title: '機器名について',
                            closeOnEscape: true,
                            modal: true
                        });
                    </script>
                    <span>製造番号</span>
                    <input id="serialNumber"/>
                    <span>モジュール名</span>
                    <input id="moduleId"/>
                    <button onclick="registerModule()">登録する</button>
                </div>
            </div>
            <div>
                <h1>動作の予約</h1>

                <div id="relays">
                    <div id="relay1" class="relay">
                        <div><span>リレーID</span> <input type="text" class="relayId" id="relayId1"/></div>
                        <div><span>コンセント１予約日時</span><input id="scheduledDateTime1" class="scheduledDateTime"/></div>
                        <script>
                            $('#scheduledDateTime1').datetimepicker();
                        </script>
                        <div><input type="radio" name="expectedState1" id="expectedState1True" value="true"
                                    checked="false">オン /
                            <input type="radio" name="expectedState1" id="expectedState1False" value="false"
                                   checked="false">オフ /
                            <input type="radio" name="expectedState1" id="expectedState1Null" value="null"
                                   checked="false">何もしない
                            <button>予約する</button>
                        </div>
                    </div>
                    <div id="relay2" class="relay">
                        <span>コンセント２予約日時</span>

                        <div>
                            <span>リレーID</span>
                            <input id="scheduledDateTime2" name="scheduledDateTime"/></div>
                        <script>
                            $('#scheduledDateTime2').datetimepicker();
                        </script>
                        <div><input type="radio" name="expectedState2" id="expectedState2True" value="true"
                                    checked="false">オン /
                            <input type="radio" name="expectedState2" id="expectedState2False" value="false"
                                   checked="false">オフ /
                            <input type="radio" name="expectedState2" id="expectedState2Null" value="null"
                                   checked="false">何もしない
                            <button>予約する</button>
                        </div>
                    </div>
                    <script>
                        $("#relays").each(function () {
                                    var relay = $(this);
                                    var button = $(this).find("button");
                                    button.on("click", function () {
                                        registerRelay(relay);
                                    });
                                }
                        );
                    </script>

                </div>
            </div>
            <div>
                <h1></h1>
            </div>
        </div>
    </div>
    <div id="tab-socialpp">
        ソーシャルコンセントとは...


        <img src="http://nfcjapan.jp/appli/images/appli_img_03_01.gif"/>

        アイコンを拝借、改変して
        ICカードでON←アイコン
        なんでもいいからかざして利用してね。
        あとからウェブサイトで登録してね。
        （オンライン）
        スマホでON←アイコン
        スマホをかざして利用してね。
        専用アプリのインストールが始まります。
        （オフライン）

        <p>

        </p>
    </div>
    <div id="tab-help">
        <div>
            <h1>
                「みんなでおでんき」とは
            </h1>

            <p>
                共助による安全安心なエネルギーの利用を目指し、再生可能エネルギーによる発電量を「見せる化」することで
                コミュニティの形成とモチベーションの維持を支援するプロジェクトです。ただいま準備中です。
                Twitterアカウント<a href="http://twitter.com/odenki" target="_blank">@odenki</a>をフォローして続報をお待ち下さい。
            </p>
        </div>
        <h1>関連プロジェクト</h1>

        <p>関連プロジェクトの「<a href="http://dcity-ehime.com/e-eco/ank/" target="_blank">みんなでエコプロジェクト ｅエコえひめ</a>」もよろしく。</p>

        <p><a href="" target="_blank"><img src="http://dcity-ehime.com/e-eco/ank/images/rogo.png"/></a></p>

    </div>
</div>
<script>
    $(document).ready(function () {
        $("#tabs").tabs({
            active: sessionStorage.getItem("newTab"),
            activate: function (event, ui) {
                var newTab = ui.newTab.index();
                sessionStorage.setItem("newTab", newTab);
            }
        });
        $(".accordion-in-tab").accordion({
            header: "h1",
            collapsible: true,
            heightStyle: "content"
        });
        //refreshModule();
    });
</script>
<script src="newodenki.js"></script>
</body>
</html>